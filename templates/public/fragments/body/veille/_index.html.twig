{% extends 'public/base.html.twig' %}

{% block body %}
    <section class="content rss-feed-section" 
        {{ stimulus_controller('select2', { url: path('app_public_veille_show') }) }}
    >
        <div class="d-flex flex-column align-items-center mb-5">
            <h1 class="mb-4">Dernières Actualités</h1>

            <!-- Conteneur de sélection -->
            <div class="form-group mb-5" style="min-width: 200px; max-width: 300px; width: 100%;">
                <select class="form-control select2 mb-3" required style="width: 100%;" {{ stimulus_target('select2', 'select') }}>
                   {# <option selected="selected" disabled="disabled">Sélectionnez un flux rss</option> #}
                    {% for veille in veilles %}
                        <option
                            class="text-white"
                            id="{{ loop.index }}"
                            value="{{ veille.id }}"
                            {% if veilleID is defined and veilleID == veille.id %}
                                selected
                            {% endif %}
                        >
                            {{ veille.name }}
                        </option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div {{ stimulus_target('select2', 'content') }} class"mt-5">
{% include "public/fragments/body/veille/_content.html.twig" %}
</div>
    </section>
{% endblock %}
